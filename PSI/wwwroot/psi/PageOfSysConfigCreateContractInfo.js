/* Page Initialize */
// Select2 Elements
$('.select2bs4').select2({
    theme: 'bootstrap4',
    placeholder: "請選擇項目"
});
// jquery dialog
$("#dialog-confirm").dialog({
    resizable: false,
    height: "auto",
    width: 400,
    modal: true,
    autoOpen: false,
    buttons: {
        "建立": function () {
            $('#creaet-contract-form').submit();
            $(this).dialog("close");
        },
        "取消": function () {
            $(this).dialog("close");
        }
    }
});
var PageOfSysConfigCreateContractInfo = /** @class */ (function () {
    function PageOfSysConfigCreateContractInfo(baseUrl) {
        if (baseUrl === void 0) { baseUrl = ""; }
        /* Field Doms */
        this.DomOfCarGuid = document.getElementById('CarGuid');
        this.DomOfCustomerGuid = document.getElementById('CustomerGuid');
        this.DomOfEditCompanyName = document.getElementById('EditCompanyName');
        this.DomOfShowEditCompanyName = document.getElementById('show-edit-companyName');
        this.DomOfEditTaxId = document.getElementById('EditTaxId');
        this.DomOfShowEditTaxId = document.getElementById('show-edit-taxId');
        this.DomOfEditCustomerName = document.getElementById('EditCustomerName');
        this.DomOfShowEditCustomerName = document.getElementById('show-edit-customerName');
        this.DomOfEditPsiType = document.getElementById('EditPsiType');
        this.DomOfShowEditPsiType = document.getElementById('show-edit-psiType');
        this.DomOfEditContentInfo = document.getElementById('EditContentInfo');
        this.DomOfShowEditContentInfo = document.getElementById('show-edit-contentInfo');
        this.DomOfEditAddress = document.getElementById('EditAddress');
        this.DomOfShowEditAddress = document.getElementById('show-edit-address');
        this.DomOfIsChanged = document.getElementById("IsChanged");
        this.BaseUrl = baseUrl;
        this.SysConfigPageHelper = new SysConfigPageHelper(this.BaseUrl);
    }
    /* Class Variable */
    /* Page Function */
    PageOfSysConfigCreateContractInfo.prototype.SetChageStatus = function (result) {
        this.DomOfIsChanged.value = result.toString();
    };
    PageOfSysConfigCreateContractInfo.prototype.PageEventInit = function () {
        var curObj = this;
        /* Page Events */
        // 表單建立
        $('#form_create').on('click', function () {
            $("#dialog-confirm").dialog("open");
        });
        $('#EditCompanyName').on('keyup', function () {
            if (curObj.DomOfEditCompanyName.value.length > 0) {
                curObj.DomOfShowEditCompanyName.innerHTML = "=> \u8B8A\u66F4\u70BA : " + curObj.DomOfEditCompanyName.value;
                curObj.DomOfShowEditCompanyName.style.color = "red";
                curObj.SetChageStatus(true);
            }
            else {
                curObj.DomOfShowEditCompanyName.innerHTML = "";
            }
        });
        $('#EditTaxId').on('keyup', function () {
            if (curObj.DomOfEditTaxId.value.length > 0) {
                curObj.DomOfShowEditTaxId.innerHTML = "=> \u8B8A\u66F4\u70BA : " + curObj.DomOfEditTaxId.value;
                curObj.DomOfShowEditTaxId.style.color = "red";
                curObj.SetChageStatus(true);
            }
            else {
                curObj.DomOfShowEditTaxId.innerHTML = "";
            }
        });
        $('#EditCustomerName').on('keyup', function () {
            if (curObj.DomOfEditCustomerName.value.length > 0) {
                curObj.DomOfShowEditCustomerName.innerHTML = "=> \u8B8A\u66F4\u70BA : " + curObj.DomOfEditCustomerName.value;
                curObj.DomOfShowEditCustomerName.style.color = "red";
                curObj.SetChageStatus(true);
            }
            else {
                curObj.DomOfShowEditCustomerName.innerHTML = "";
            }
        });
        $('#EditPsiType').on('change', function () {
            var selectedText = curObj.DomOfEditPsiType.options[curObj.DomOfEditPsiType.selectedIndex].text;
            if (selectedText.length > 0) {
                curObj.DomOfShowEditPsiType.innerHTML = "=> \u8B8A\u66F4\u70BA : " + selectedText;
                curObj.DomOfShowEditPsiType.style.color = "red";
                curObj.SetChageStatus(true);
            }
            else {
                curObj.DomOfShowEditPsiType.innerHTML = "";
            }
        });
        $('#EditContentInfo').on('keyup', function () {
            if (curObj.DomOfEditContentInfo.value.length > 0) {
                curObj.DomOfShowEditContentInfo.innerHTML = "=> \u8B8A\u66F4\u70BA : " + curObj.DomOfEditContentInfo.value;
                curObj.DomOfShowEditContentInfo.style.color = "red";
                curObj.SetChageStatus(true);
            }
            else {
                curObj.DomOfShowEditContentInfo.innerHTML = "";
            }
        });
        $('#EditAddress').on('keyup', function () {
            if (curObj.DomOfEditAddress.value.length > 0) {
                curObj.DomOfShowEditAddress.innerHTML = "=> \u8B8A\u66F4\u70BA : " + curObj.DomOfEditAddress.value;
                curObj.DomOfShowEditAddress.style.color = "red";
                curObj.SetChageStatus(true);
            }
            else {
                curObj.DomOfShowEditAddress.innerHTML = "";
            }
        });
        // 車牌編輯
        $('#has-carno').on('click', "button", function () {
            var pageRs = curObj.SysConfigPageHelper.GetCarNoInfoModel($(this).val().toString(), true);
            $.when(pageRs).then(function (data) {
                $("div[name=model-temp-carnoinfo]").html(data);
                var modalObj = $("div[name=model-temp-carnoinfo]").find('#myModal');
                modalObj.modal('show');
            });
        });
    };
    return PageOfSysConfigCreateContractInfo;
}());
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFnZU9mU3lzQ29uZmlnQ3JlYXRlQ29udHJhY3RJbmZvLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc2NyaXB0cy9QYWdlT2ZTeXNDb25maWdDcmVhdGVDb250cmFjdEluZm8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCO0FBQ3JCLG1CQUFtQjtBQUNuQixDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsT0FBTyxDQUFDO0lBQ3JCLEtBQUssRUFBRSxZQUFZO0lBQ25CLFdBQVcsRUFBRSxPQUFPO0NBQ3ZCLENBQUMsQ0FBQTtBQUVGLGdCQUFnQjtBQUNoQixDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDeEIsU0FBUyxFQUFFLEtBQUs7SUFDaEIsTUFBTSxFQUFFLE1BQU07SUFDZCxLQUFLLEVBQUUsR0FBRztJQUNWLEtBQUssRUFBRSxJQUFJO0lBQ1gsUUFBUSxFQUFFLEtBQUs7SUFDZixPQUFPLEVBQUU7UUFDTCxJQUFJLEVBQUU7WUFDRixDQUFDLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNwQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzVCLENBQUM7UUFDRCxJQUFJLEVBQUU7WUFDRixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzVCLENBQUM7S0FDSjtDQUNKLENBQUMsQ0FBQTtBQUVGO0lBWUksMkNBQVksT0FBb0I7UUFBcEIsd0JBQUEsRUFBQSxZQUFvQjtRQUtoQyxnQkFBZ0I7UUFDVCxpQkFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFxQixDQUFDO1FBQ3RFLHNCQUFpQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFxQixDQUFDO1FBQ2hGLHlCQUFvQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENB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UUFBUSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDMUYsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJO2dCQUM5QixDQUFDLENBQUMsZ0NBQWdDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQy9DLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDcEUsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMzQixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFBO0lBRU4sQ0FBQztJQUVMLHdDQUFDO0FBQUQsQ0FBQyxBQTNIRCxJQTJIQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFBhZ2UgSW5pdGlhbGl6ZSAqL1xyXG4vLyBTZWxlY3QyIEVsZW1lbnRzXHJcbiQoJy5zZWxlY3QyYnM0Jykuc2VsZWN0Mih7XHJcbiAgICB0aGVtZTogJ2Jvb3RzdHJhcDQnLFxyXG4gICAgcGxhY2Vob2xkZXI6IFwi6KuL6YG45pOH6aCF55uuXCJcclxufSlcclxuXHJcbi8vIGpxdWVyeSBkaWFsb2dcclxuJChcIiNkaWFsb2ctY29uZmlybVwiKS5kaWFsb2coe1xyXG4gICAgcmVzaXphYmxlOiBmYWxzZSxcclxuICAgIGhlaWdodDogXCJhdXRvXCIsXHJcbiAgICB3aWR0aDogNDAwLFxyXG4gICAgbW9kYWw6IHRydWUsXHJcbiAgICBhdXRvT3BlbjogZmFsc2UsXHJcbiAgICBidXR0b25zOiB7XHJcbiAgICAgICAgXCLlu7rnq4tcIjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcjY3JlYWV0LWNvbnRyYWN0LWZvcm0nKS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5kaWFsb2coXCJjbG9zZVwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwi5Y+W5raIXCI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5kaWFsb2coXCJjbG9zZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pXHJcblxyXG5jbGFzcyBQYWdlT2ZTeXNDb25maWdDcmVhdGVDb250cmFjdEluZm8ge1xyXG4gICAgLy8gQmFzZSBQb3JwZXJpdGVzXHJcbiAgICByZWFkb25seSBCYXNlVXJsOiBzdHJpbmc7XHJcblxyXG4gICAgLy8gRm9yIFBvc3RcclxuXHJcblxyXG4gICAgLy8gUmVmZXJlbmNlcyAgXHJcbiAgICBwdWJsaWMgU3lzQ29uZmlnUGFnZUhlbHBlcjogU3lzQ29uZmlnUGFnZUhlbHBlcjtcclxuICBcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoYmFzZVVybDogc3RyaW5nID0gXCJcIikge1xyXG4gICAgICAgIHRoaXMuQmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICAgICAgdGhpcy5TeXNDb25maWdQYWdlSGVscGVyID0gbmV3IFN5c0NvbmZpZ1BhZ2VIZWxwZXIodGhpcy5CYXNlVXJsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBGaWVsZCBEb21zICovXHJcbiAgICBwdWJsaWMgRG9tT2ZDYXJHdWlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0Nhckd1aWQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgcHVibGljIERvbU9mQ3VzdG9tZXJHdWlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0N1c3RvbWVyR3VpZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwdWJsaWMgRG9tT2ZFZGl0Q29tcGFueU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnRWRpdENvbXBhbnlOYW1lJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIHB1YmxpYyBEb21PZlNob3dFZGl0Q29tcGFueU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvdy1lZGl0LWNvbXBhbnlOYW1lJykgYXMgSFRNTFNwYW5FbGVtZW50O1xyXG4gICAgcHVibGljIERvbU9mRWRpdFRheElkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0VkaXRUYXhJZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwdWJsaWMgRG9tT2ZTaG93RWRpdFRheElkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3ctZWRpdC10YXhJZCcpIGFzIEhUTUxTcGFuRWxlbWVudDtcclxuICAgIHB1YmxpYyBEb21PZkVkaXRDdXN0b21lck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnRWRpdEN1c3RvbWVyTmFtZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwdWJsaWMgRG9tT2ZTaG93RWRpdEN1c3RvbWVyTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG93LWVkaXQtY3VzdG9tZXJOYW1lJykgYXMgSFRNTFNwYW5FbGVtZW50O1xyXG4gICAgcHVibGljIERvbU9mRWRpdFBzaVR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnRWRpdFBzaVR5cGUnKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgIHB1YmxpYyBEb21PZlNob3dFZGl0UHNpVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG93LWVkaXQtcHNpVHlwZScpIGFzIEhUTUxTcGFuRWxlbWVudDtcclxuICAgIHB1YmxpYyBEb21PZkVkaXRDb250ZW50SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdFZGl0Q29udGVudEluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgcHVibGljIERvbU9mU2hvd0VkaXRDb250ZW50SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG93LWVkaXQtY29udGVudEluZm8nKSBhcyBIVE1MU3BhbkVsZW1lbnQ7XHJcbiAgICBwdWJsaWMgRG9tT2ZFZGl0QWRkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdFZGl0QWRkcmVzcycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwdWJsaWMgRG9tT2ZTaG93RWRpdEFkZHJlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvdy1lZGl0LWFkZHJlc3MnKSBhcyBIVE1MU3BhbkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIERvbU9mSXNDaGFuZ2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJc0NoYW5nZWRcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcblxyXG4gICAgLyogQ2xhc3MgVmFyaWFibGUgKi9cclxuXHJcbiAgICAvKiBQYWdlIEZ1bmN0aW9uICovXHJcbiAgICBwdWJsaWMgU2V0Q2hhZ2VTdGF0dXMocmVzdWx0OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5Eb21PZklzQ2hhbmdlZC52YWx1ZSA9IHJlc3VsdC50b1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgcHVibGljIFBhZ2VFdmVudEluaXQoKSB7XHJcbiAgICAgICAgY29uc3QgY3VyT2JqID0gdGhpcztcclxuXHJcblxyXG5cclxuICAgICAgICAvKiBQYWdlIEV2ZW50cyAqL1xyXG4gICAgICAgIC8vIOihqOWWruW7uueri1xyXG4gICAgICAgICQoJyNmb3JtX2NyZWF0ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChcIiNkaWFsb2ctY29uZmlybVwiKS5kaWFsb2coXCJvcGVuXCIpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICQoJyNFZGl0Q29tcGFueU5hbWUnKS5vbigna2V5dXAnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJPYmouRG9tT2ZFZGl0Q29tcGFueU5hbWUudmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLkRvbU9mU2hvd0VkaXRDb21wYW55TmFtZS5pbm5lckhUTUwgPSBgPT4g6K6K5pu054K6IDogJHtjdXJPYmouRG9tT2ZFZGl0Q29tcGFueU5hbWUudmFsdWV9YDtcclxuICAgICAgICAgICAgICAgIGN1ck9iai5Eb21PZlNob3dFZGl0Q29tcGFueU5hbWUuc3R5bGUuY29sb3IgPSBcInJlZFwiO1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLlNldENoYWdlU3RhdHVzKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLkRvbU9mU2hvd0VkaXRDb21wYW55TmFtZS5pbm5lckhUTUwgPSBcIlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICQoJyNFZGl0VGF4SWQnKS5vbigna2V5dXAnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJPYmouRG9tT2ZFZGl0VGF4SWQudmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLkRvbU9mU2hvd0VkaXRUYXhJZC5pbm5lckhUTUwgPSBgPT4g6K6K5pu054K6IDogJHtjdXJPYmouRG9tT2ZFZGl0VGF4SWQudmFsdWV9YDtcclxuICAgICAgICAgICAgICAgIGN1ck9iai5Eb21PZlNob3dFZGl0VGF4SWQuc3R5bGUuY29sb3IgPSBcInJlZFwiO1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLlNldENoYWdlU3RhdHVzKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLkRvbU9mU2hvd0VkaXRUYXhJZC5pbm5lckhUTUwgPSBcIlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICQoJyNFZGl0Q3VzdG9tZXJOYW1lJykub24oJ2tleXVwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY3VyT2JqLkRvbU9mRWRpdEN1c3RvbWVyTmFtZS52YWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJPYmouRG9tT2ZTaG93RWRpdEN1c3RvbWVyTmFtZS5pbm5lckhUTUwgPSBgPT4g6K6K5pu054K6IDogJHtjdXJPYmouRG9tT2ZFZGl0Q3VzdG9tZXJOYW1lLnZhbHVlfWA7XHJcbiAgICAgICAgICAgICAgICBjdXJPYmouRG9tT2ZTaG93RWRpdEN1c3RvbWVyTmFtZS5zdHlsZS5jb2xvciA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgICAgICBjdXJPYmouU2V0Q2hhZ2VTdGF0dXModHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdXJPYmouRG9tT2ZTaG93RWRpdEN1c3RvbWVyTmFtZS5pbm5lckhUTUwgPSBcIlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICQoJyNFZGl0UHNpVHlwZScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVGV4dCA9IGN1ck9iai5Eb21PZkVkaXRQc2lUeXBlLm9wdGlvbnNbY3VyT2JqLkRvbU9mRWRpdFBzaVR5cGUuc2VsZWN0ZWRJbmRleF0udGV4dDtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkVGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJPYmouRG9tT2ZTaG93RWRpdFBzaVR5cGUuaW5uZXJIVE1MID0gYD0+IOiuiuabtOeCuiA6ICR7c2VsZWN0ZWRUZXh0fWA7XHJcbiAgICAgICAgICAgICAgICBjdXJPYmouRG9tT2ZTaG93RWRpdFBzaVR5cGUuc3R5bGUuY29sb3IgPSBcInJlZFwiO1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLlNldENoYWdlU3RhdHVzKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLkRvbU9mU2hvd0VkaXRQc2lUeXBlLmlubmVySFRNTCA9IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJCgnI0VkaXRDb250ZW50SW5mbycpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGN1ck9iai5Eb21PZkVkaXRDb250ZW50SW5mby52YWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJPYmouRG9tT2ZTaG93RWRpdENvbnRlbnRJbmZvLmlubmVySFRNTCA9IGA9PiDorormm7TngrogOiAke2N1ck9iai5Eb21PZkVkaXRDb250ZW50SW5mby52YWx1ZX1gO1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLkRvbU9mU2hvd0VkaXRDb250ZW50SW5mby5zdHlsZS5jb2xvciA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgICAgICBjdXJPYmouU2V0Q2hhZ2VTdGF0dXModHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdXJPYmouRG9tT2ZTaG93RWRpdENvbnRlbnRJbmZvLmlubmVySFRNTCA9IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJCgnI0VkaXRBZGRyZXNzJykub24oJ2tleXVwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY3VyT2JqLkRvbU9mRWRpdEFkZHJlc3MudmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLkRvbU9mU2hvd0VkaXRBZGRyZXNzLmlubmVySFRNTCA9IGA9PiDorormm7TngrogOiAke2N1ck9iai5Eb21PZkVkaXRBZGRyZXNzLnZhbHVlfWA7XHJcbiAgICAgICAgICAgICAgICBjdXJPYmouRG9tT2ZTaG93RWRpdEFkZHJlc3Muc3R5bGUuY29sb3IgPSBcInJlZFwiO1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLlNldENoYWdlU3RhdHVzKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VyT2JqLkRvbU9mU2hvd0VkaXRBZGRyZXNzLmlubmVySFRNTCA9IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vIOi7iueJjOe3qOi8r1xyXG4gICAgICAgICQoJyNoYXMtY2Fybm8nKS5vbignY2xpY2snLCBgYnV0dG9uYCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgcGFnZVJzID0gY3VyT2JqLlN5c0NvbmZpZ1BhZ2VIZWxwZXIuR2V0Q2FyTm9JbmZvTW9kZWwoJCh0aGlzKS52YWwoKS50b1N0cmluZygpLCB0cnVlKTtcclxuICAgICAgICAgICAgJC53aGVuKHBhZ2VScykudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgJChcImRpdltuYW1lPW1vZGVsLXRlbXAtY2Fybm9pbmZvXVwiKS5odG1sKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsT2JqID0gJChcImRpdltuYW1lPW1vZGVsLXRlbXAtY2Fybm9pbmZvXVwiKS5maW5kKCcjbXlNb2RhbCcpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWxPYmoubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==