var EditWeightNotePageClass = /** @class */ (function () {
    function EditWeightNotePageClass(baseUrl) {
        if (baseUrl === void 0) { baseUrl = ""; }
        this.BaseUrl = baseUrl;
    }
    EditWeightNotePageClass.prototype.IniPageEvent = function () {
    };
    ;
    EditWeightNotePageClass.prototype.CaculatePriceFee = function (fullWeight, defectiveWeight, unitPrice, hasTex) {
        var taxArg = hasTex === true ? 1.05 : 1; // 是否含稅 (radio button 沒有 name attribute 所以用)
        var weightPrice = (fullWeight - defectiveWeight) * unitPrice * taxArg;
        return weightPrice;
    };
    ;
    EditWeightNotePageClass.prototype.CaculateTraficFee = function () {
    };
    ;
    EditWeightNotePageClass.prototype.GetActualPayFee = function (priceFee, traficFee, thirdWeightFee) {
    };
    ;
    EditWeightNotePageClass.prototype.CaculateAllFee = function () {
        //let haha = new FormData();
        var fullWeight = document.getElementById("VE_PurchaseWeightNote_FullWeight").value; // 進場重量
        var defectiveWeight = document.getElementById("VE_PurchaseWeightNote_DefectiveWeight").value; // 扣重
        var unitPrice = document.getElementById("VE_PurchaseWeightNote_UnitPrice").value; // 單價
        var isHasTax = $('.ishas_tax:checked').val() === "True" ? 1.05 : 1; // 是否含稅 (radio button 沒有 name attribute 所以用)
        var traficUnitPrice = document.getElementById("VE_PurchaseWeightNote_TraficUnitPrice").value; // 運費單價
        var weightFee = document.getElementById("VE_PurchaseWeightNote_ThirdWeightFee").value;
        // 計價金額 = (進廠重量 - 扣重) * 單價 * 稅率
        //let weightFee = (+fullWeight - (+defectiveWeight));
        var weightPrice = (+fullWeight - (+defectiveWeight)) * (+unitPrice) * isHasTax;
        document.getElementById("show_weight_price").textContent = !weightPrice || weightPrice < 0 ? "0" : weightPrice.toFixed(2).toString();
        // 運費 = 進廠重量 * 運費單價
        var traficPrice = (+fullWeight) * (+traficUnitPrice);
        document.getElementById("show_trafic_price").textContent = !traficPrice || traficPrice < 0 ? "0" : traficPrice.toString();
        // 總金額 = (磅費 + 計價金額 + 運費)
        var finalPrice = (+weightFee) + weightPrice + traficPrice;
        document.getElementById("show_final_price").textContent = !finalPrice || finalPrice < 0 ? "0" : Math.round(finalPrice).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",");
        $('#VE_PurchaseWeightNote_ActualPrice').val(Math.round(finalPrice));
    };
    return EditWeightNotePageClass;
}());
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRWRpdFdlaWdodE5vdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zY3JpcHRzL0VkaXRXZWlnaHROb3RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBU0ksaUNBQVksT0FBb0I7UUFBcEIsd0JBQUEsRUFBQSxZQUFvQjtRQUM1QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUMzQixDQUFDO0lBR00sOENBQVksR0FBbkI7SUFFQSxDQUFDO0lBQUEsQ0FBQztJQUdLLGtEQUFnQixHQUF2QixVQUF3QixVQUFrQixFQUFFLGVBQXVCLEVBQUUsU0FBaUIsRUFBRSxNQUFlO1FBQ25HLElBQUksTUFBTSxHQUFHLE1BQU0sS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsNENBQTRDO1FBQ3RGLElBQUksV0FBVyxHQUFHLENBQUMsVUFBVSxHQUFHLGVBQWUsQ0FBQyxHQUFHLFNBQVMsR0FBRyxNQUFNLENBQUM7UUFDdEUsT0FBTyxXQUFXLENBQUM7SUFDdkIsQ0FBQztJQUFBLENBQUM7SUFDSyxtREFBaUIsR0FBeEI7SUFFQSxDQUFDO0lBQUEsQ0FBQztJQUNLLGlEQUFlLEdBQXRCLFVBQXVCLFFBQWdCLEVBQUUsU0FBaUIsRUFBRSxjQUFzQjtJQUVsRixDQUFDO0lBQUEsQ0FBQztJQUdLLGdEQUFjLEdBQXJCO1FBQ0ksNEJBQTRCO1FBQzVCLElBQUksVUFBVSxHQUFJLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0NBQWtDLENBQXNCLENBQUMsS0FBSyxDQUFBLENBQUMsT0FBTztRQUNoSCxJQUFJLGVBQWUsR0FBSSxRQUFRLENBQUMsY0FBYyxDQUFDLHVDQUF1QyxDQUFzQixDQUFDLEtBQUssQ0FBQSxDQUFDLEtBQUs7UUFDeEgsSUFBSSxTQUFTLEdBQUksUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQ0FBaUMsQ0FBc0IsQ0FBQyxLQUFLLENBQUEsQ0FBQyxLQUFLO1FBQzVHLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRSw0Q0FBNEM7UUFDakgsSUFBSSxlQUFlLEdBQUksUUFBUSxDQUFDLGNBQWMsQ0FBQyx1Q0FBdUMsQ0FBc0IsQ0FBQyxLQUFLLENBQUEsQ0FBQyxPQUFPO1FBQzFILElBQUksU0FBUyxHQUFJLFFBQVEsQ0FBQyxjQUFjLENBQUMsc0NBQXNDLENBQXNCLENBQUMsS0FBSyxDQUFBO1FBRTNHLCtCQUErQjtRQUMvQixxREFBcUQ7UUFDckQsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsUUFBUSxDQUFDO1FBQzlFLFFBQVEsQ0FBQyxjQUFjLENBQUMsbUJBQW1CLENBQW9CLENBQUMsV0FBVyxHQUFHLENBQUMsV0FBVyxJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUV6SixtQkFBbUI7UUFDbkIsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUNwRCxRQUFRLENBQUMsY0FBYyxDQUFDLG1CQUFtQixDQUFvQixDQUFDLFdBQVcsR0FBRyxDQUFDLFdBQVcsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUU5SSx5QkFBeUI7UUFDekIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDekQsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBb0IsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxVQUFVLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN0TSxDQUFDLENBQUMsb0NBQW9DLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBRXhFLENBQUM7SUFJTCw4QkFBQztBQUFELENBQUMsQUEzREQsSUEyREM7QUFBQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRWRpdFdlaWdodE5vdGVQYWdlQ2xhc3Mge1xyXG4gICAgLy8gR2xvYmFsXHJcblxyXG4gICAgLy8gUmVhZHkgUG9zdFxyXG5cclxuXHJcblxyXG5cclxuICAgIEJhc2VVcmw6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKGJhc2VVcmw6IHN0cmluZyA9IFwiXCIpIHtcclxuICAgICAgICB0aGlzLkJhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgSW5pUGFnZUV2ZW50KCkge1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuICAgIHB1YmxpYyBDYWN1bGF0ZVByaWNlRmVlKGZ1bGxXZWlnaHQ6IG51bWJlciwgZGVmZWN0aXZlV2VpZ2h0OiBudW1iZXIsIHVuaXRQcmljZTogbnVtYmVyLCBoYXNUZXg6IGJvb2xlYW4pIHtcclxuICAgICAgICBsZXQgdGF4QXJnID0gaGFzVGV4ID09PSB0cnVlID8gMS4wNSA6IDE7ICAvLyDmmK/lkKblkKvnqIUgKHJhZGlvIGJ1dHRvbiDmspLmnIkgbmFtZSBhdHRyaWJ1dGUg5omA5Lul55SoKVxyXG4gICAgICAgIGxldCB3ZWlnaHRQcmljZSA9IChmdWxsV2VpZ2h0IC0gZGVmZWN0aXZlV2VpZ2h0KSAqIHVuaXRQcmljZSAqIHRheEFyZztcclxuICAgICAgICByZXR1cm4gd2VpZ2h0UHJpY2U7XHJcbiAgICB9O1xyXG4gICAgcHVibGljIENhY3VsYXRlVHJhZmljRmVlKCkge1xyXG5cclxuICAgIH07XHJcbiAgICBwdWJsaWMgR2V0QWN0dWFsUGF5RmVlKHByaWNlRmVlOiBudW1iZXIsIHRyYWZpY0ZlZTogbnVtYmVyLCB0aGlyZFdlaWdodEZlZTogbnVtYmVyKSB7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgcHVibGljIENhY3VsYXRlQWxsRmVlKCkge1xyXG4gICAgICAgIC8vbGV0IGhhaGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBsZXQgZnVsbFdlaWdodCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlZFX1B1cmNoYXNlV2VpZ2h0Tm90ZV9GdWxsV2VpZ2h0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlIC8vIOmAsuWgtOmHjemHj1xyXG4gICAgICAgIGxldCBkZWZlY3RpdmVXZWlnaHQgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJWRV9QdXJjaGFzZVdlaWdodE5vdGVfRGVmZWN0aXZlV2VpZ2h0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlIC8vIOaJo+mHjVxyXG4gICAgICAgIGxldCB1bml0UHJpY2UgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJWRV9QdXJjaGFzZVdlaWdodE5vdGVfVW5pdFByaWNlXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlIC8vIOWWruWDuVxyXG4gICAgICAgIGxldCBpc0hhc1RheCA9ICQoJy5pc2hhc190YXg6Y2hlY2tlZCcpLnZhbCgpID09PSBcIlRydWVcIiA/IDEuMDUgOiAxOyAgLy8g5piv5ZCm5ZCr56iFIChyYWRpbyBidXR0b24g5rKS5pyJIG5hbWUgYXR0cmlidXRlIOaJgOS7peeUqClcclxuICAgICAgICBsZXQgdHJhZmljVW5pdFByaWNlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiVkVfUHVyY2hhc2VXZWlnaHROb3RlX1RyYWZpY1VuaXRQcmljZVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSAvLyDpgYvosrvllq7lg7lcclxuICAgICAgICBsZXQgd2VpZ2h0RmVlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiVkVfUHVyY2hhc2VXZWlnaHROb3RlX1RoaXJkV2VpZ2h0RmVlXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlXHJcblxyXG4gICAgICAgIC8vIOioiOWDuemHkemhjSA9ICjpgLLlu6Dph43ph48gLSDmiaPph40pICog5Zau5YO5ICog56iF546HXHJcbiAgICAgICAgLy9sZXQgd2VpZ2h0RmVlID0gKCtmdWxsV2VpZ2h0IC0gKCtkZWZlY3RpdmVXZWlnaHQpKTtcclxuICAgICAgICBsZXQgd2VpZ2h0UHJpY2UgPSAoK2Z1bGxXZWlnaHQgLSAoK2RlZmVjdGl2ZVdlaWdodCkpICogKCt1bml0UHJpY2UpICogaXNIYXNUYXg7XHJcbiAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvd193ZWlnaHRfcHJpY2VcIikgYXMgSFRNTERpdkVsZW1lbnQpLnRleHRDb250ZW50ID0gIXdlaWdodFByaWNlIHx8IHdlaWdodFByaWNlIDwgMCA/IFwiMFwiIDogd2VpZ2h0UHJpY2UudG9GaXhlZCgyKS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAvLyDpgYvosrsgPSDpgLLlu6Dph43ph48gKiDpgYvosrvllq7lg7lcclxuICAgICAgICBsZXQgdHJhZmljUHJpY2UgPSAoK2Z1bGxXZWlnaHQpICogKCt0cmFmaWNVbml0UHJpY2UpO1xyXG4gICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNob3dfdHJhZmljX3ByaWNlXCIpIGFzIEhUTUxEaXZFbGVtZW50KS50ZXh0Q29udGVudCA9ICF0cmFmaWNQcmljZSB8fCB0cmFmaWNQcmljZSA8IDAgPyBcIjBcIiA6IHRyYWZpY1ByaWNlLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIC8vIOe4vemHkemhjSA9ICjno4XosrsgKyDoqIjlg7nph5HpoY0gKyDpgYvosrspXHJcbiAgICAgICAgbGV0IGZpbmFsUHJpY2UgPSAoK3dlaWdodEZlZSkgKyB3ZWlnaHRQcmljZSArIHRyYWZpY1ByaWNlO1xyXG4gICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNob3dfZmluYWxfcHJpY2VcIikgYXMgSFRNTERpdkVsZW1lbnQpLnRleHRDb250ZW50ID0gIWZpbmFsUHJpY2UgfHwgZmluYWxQcmljZSA8IDAgPyBcIjBcIiA6IE1hdGgucm91bmQoZmluYWxQcmljZSkudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPzwhXFwuXFxkKikoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCBcIixcIik7XHJcbiAgICAgICAgJCgnI1ZFX1B1cmNoYXNlV2VpZ2h0Tm90ZV9BY3R1YWxQcmljZScpLnZhbChNYXRoLnJvdW5kKGZpbmFsUHJpY2UpKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn07XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ==